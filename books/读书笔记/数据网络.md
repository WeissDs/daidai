##数据交互

####几种数据交互的方法

1. 表单：  <br/><br/> 最基本、最简单

2. ajax：  <br/><br/> 不用刷新，ajax可以跨域（单向通信，基于XMLHttpRequest （jquery.ajax, mui.ajax ...））

3. jsonp：  <br/><br/> 安全性差，直接跨域，过时了

4. WebSocket：  <br/><br/> 性能高，直接跨域（双向通信/双工通信）在单个TCP连接上进行双工通讯的协议（HTML5）

单向通信：服务器不能向浏览器发送改变数据通知，只能开定时器做轮询获取数据的实时改变，性能很差
双向通信：服务器数据改变能向浏览器发送通知

####跨站脚本攻击

* XSS：Cross Site Scripting

* 在跨域时不做校验会容易被攻击

* 需要跨域：1.第三方登陆 2.同一网站不同域名 3.数据传递


####http请求

1. 请求信息 分 请求头和请求体(内容) <br/>

    头：<32k    get方式
    
        * 
    体：<=1G    post方式

####OSI 七层模型： 通信系统连接参考模型
######Open System Interconnection 开放式系统互联

    1.物理层
    2.链路层 ————— ATM.FDDI
    3.网络层 ————— IP, IPX
    4.传输层 ————— TCP, UDP, SPX
    5.会话层
    6.表现层
    7.应用层 ————— HTTP, DNS, FTP, NFS, SMTP, telent


####JWT(JSON WEB TOKEN)

###### JWT是目前最流行的 跨域认证 解决方案

    互联网服务离不开用户认证。一般流程是下面这样。

    1、用户向服务器发送用户名和密码。

    2、服务器验证通过后，在当前对话（session）里面保存相关数据，比如用户角色、登录时间等等。

    3、服务器向用户返回一个 session_id，写入用户的 Cookie。

    4、用户随后的每一次请求，都会通过 Cookie，将 session_id 传回服务器。

    5、服务器收到 session_id，找到前期保存的数据，由此得知用户的身份。

    这种模式的问题在于，扩展性（scaling）不好。单机当然没有问题，如果是服务器集群，或者是跨域的服务导向架构，就要求 session 数据共享，每台服务器都能够读取 session。


    JWT 的原理是，服务器认证以后，生成一个 JSON 对象，发回给用户，就像下面这样。


    {
      "姓名": "张三",
      "角色": "管理员",
      "到期时间": "2018年7月1日0点0分"
    }
    以后，用户与服务端通信的时候，都要发回这个 JSON 对象。服务器完全只靠这个对象认定用户身份。为了防止用户篡改数据，服务器在生成这个对象的时候，会加上签名（详见后文）。

    服务器就不保存任何 session 数据了，也就是说，服务器变成无状态了，从而比较容易实现扩展。





