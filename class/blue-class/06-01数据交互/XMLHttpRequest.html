<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script>
    
    window.onload=function (){
      let oBtn=document.getElementById('btn1');

      oBtn.onclick=function (){
        //1.创建对象
        let xhr=new XMLHttpRequest();
        //alert(xhr.readyState);        0

        //2.连接
        xhr.open('GET', 'data/1.txt', true);
        //alert(xhr.readyState);        1

        //3.发送
        xhr.send();

        //4.接收

        // readyState
        // 0   初始状态      xhr对象刚创建完
        // 1   连接          连接到服务器
        // 2   发送请求      刚刚send完
        // 3   接收完成      头接收完了
        // 4   接收完成      体接收完了

        // on ready state change       当通信状态改变
        // 当 准备   状态  改变
        xhr.onreadystatechange=function (){
          if(xhr.readyState==4){
            if(
              (xhr.status>=200 && xhr.status<300)||
              xhr.status==304
            ){
              console.log(xhr);
              alert('成功');
            }else{
              alert('失败');
            }
          }
        };
      };
    };
    </script>
  </head>
  <body>
    <input type="button" value="按钮" id="btn1">
  </body>
</html>
