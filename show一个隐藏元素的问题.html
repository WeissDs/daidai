<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		.none{ display: none; width: 10%; height:200px; background-color: red; transition: all 2s; }
		.show{ width: 100%; }
	</style>
</head>
<body>
	<div class="none"></div>
	<input type="button">

	<script>
		let oBtn = document.getElementsByTagName('input')[0];
		let oDiv = document.getElementsByTagName('div')[0];
		oBtn.onclick=function(){
			oDiv.style.display="block";
			setTimeout(function(){
				document.getElementsByTagName('div')[0].className="none show";
			},0);
		}

		// 今天在工作中无意发现，当元素本身为display：none 时，若此时我们想通过js先将其变为display:block 并且随后再触发其他想要的transition过渡效果，需要在 js改变其为display:block 后setTimeout再去设置其他过渡动画，否则该过渡动画不会触发。 

		//原理： setTimeout被触发时，浏览器的定时触发器线程会将事件添加到待处理列队的末尾，保证在div设置block之后再添加className:show???????
	</script>
</body>
</html>